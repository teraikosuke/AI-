<!-- KPI v2: ãƒ†ãƒ¬ã‚¢ãƒç®¡ç† -->
<section data-page="teleapo" data-kpi="v2" class="kpi-v2-wrapper space-y-6">

  <!-- â˜… ä¸€ç•ªä¸Šï¼šå…¨ä½“KPIã‚µãƒãƒªãƒ¼ï¼ˆé€šé›»ç‡ãƒ»è¨­å®šç‡ãƒ»ç€åº§ç‡ï¼‰ -->
  <div class="kpi-v2-section kpi-v2-summary-section">
    <div class="flex items-center justify-between mb-3 gap-2">
      <h3 class="kpi-v2-title" id="teleapoSummaryTitle">
        ä»Šæœˆã®å…¨ä½“KPIï¼ˆç‡ï¼‰
      </h3>
      <div class="text-xs text-slate-500">
        è¡¨ç¤ºå¯¾è±¡ï¼š
        <span id="teleapoSummaryScopeLabel" class="font-semibold text-slate-700">å…¨ä½“</span>
        <button type="button" id="teleapoSummaryResetBtn"
          class="ml-2 px-2 py-1 border border-slate-300 rounded-md text-[11px] text-slate-600 hover:bg-slate-100">
          å…¨ä½“ã«æˆ»ã™
        </button>
      </div>
    </div>

    <div class="kpi-v2-summary-unified">
      <div class="kpi-v2-achievement-card">
        <div class="kpi-v2-label">é€šé›»ç‡</div>
        <div class="kpi-v2-value-large" id="teleapoSummaryConnectRate">50.0%</div>
        <div class="kpi-v2-meta" id="teleapoSummaryConnectMeta">å½“æœˆãƒ»å…¨ç¤¾å“¡</div>
      </div>
      <div class="kpi-v2-achievement-card">
        <div class="kpi-v2-label">è¨­å®šç‡</div>
        <div class="kpi-v2-value-large" id="teleapoSummarySetRate">30.0%</div>
        <div class="kpi-v2-meta" id="teleapoSummarySetMeta">å½“æœˆãƒ»å…¨ç¤¾å“¡</div>
      </div>
      <div class="kpi-v2-achievement-card">
        <div class="kpi-v2-label">ç€åº§ç‡</div>
        <div class="kpi-v2-value-large" id="teleapoSummaryShowRate">82.0%</div>
        <div class="kpi-v2-meta" id="teleapoSummaryShowMeta">å½“æœˆãƒ»å…¨ç¤¾å“¡</div>
      </div>
    </div>
    <!-- â˜… è¿½åŠ ï¼šKPIç‡ã®ä¸‹ã«ã€å°‘ã—å°ã•ã‚ã®ã€Œæ•°å€¤4ã¤ã€ -->
    <div class="kpi-v2-summary-counts">
      <div class="kpi-v2-summary-count-item">
        <span class="kpi-v2-summary-count-label">æ¶é›»æ•°</span>
        <span class="kpi-v2-summary-count-value" id="teleapoSummaryDials">1,247</span>
      </div>
      <div class="kpi-v2-summary-count-item">
        <span class="kpi-v2-summary-count-label">é€šé›»æ•°</span>
        <span class="kpi-v2-summary-count-value" id="teleapoSummaryConnects">623</span>
      </div>
      <div class="kpi-v2-summary-count-item">
        <span class="kpi-v2-summary-count-label">è¨­å®šæ•°</span>
        <span class="kpi-v2-summary-count-value" id="teleapoSummarySets">187</span>
      </div>
      <div class="kpi-v2-summary-count-item">
        <span class="kpi-v2-summary-count-label">ç€åº§æ•°</span>
        <span class="kpi-v2-summary-count-value" id="teleapoSummaryShows">154</span>
      </div>
    </div>
  </div>

  <!-- ç¤¾å†…æˆç¸¾ -->
  <!-- ç¤¾å“¡æˆç¸¾ï¼‹ç¤¾å“¡åˆ¥ã‚°ãƒ©ãƒ• -->
  <div class="kpi-v2-section">
    <div class="kpi-v2-header">
      <!-- å·¦å´ã¯ä½•ã‚‚è¡¨ç¤ºã—ãªã„ -->
      <div class="flex-1"></div>
      <!-- å³å´ã«æœŸé–“ï¼ˆæ—¥ä»˜ï¼‰ã®ã¿ -->
      <div class="kpi-v2-range-picker">
        <input type="date" id="teleapoCompanyRangeStart" class="kpi-v2-date-input" />
        <span class="kpi-v2-date-separator">ã€œ</span>
        <input type="date" id="teleapoCompanyRangeEnd" class="kpi-v2-date-input" />
        <div class="kpi-v2-range-presets" data-scope="company">
          <button type="button" class="kpi-v2-range-btn" data-preset="today">ä»Šæ—¥</button>
          <button type="button" class="kpi-v2-range-btn" data-preset="thisWeek">ä»Šé€±</button>
          <button type="button" class="kpi-v2-range-btn kpi-v2-range-btn-active" data-preset="thisMonth">ä»Šæœˆ</button>
        </div>
      </div>
    </div>
    <p class="kpi-v2-period-label" id="teleapoCompanyPeriodLabel"></p>

    <!-- ç¤¾å“¡ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆæ¤œç´¢ãƒ»ã‚½ãƒ¼ãƒˆã¯å‰Šé™¤ï¼‰ -->
    <div class="kpi-v2-subsection">
      <div class="flex items-center justify-between mb-2">
        <h4 class="text-base font-semibold text-slate-800">ç¤¾å“¡æˆç¸¾</h4>
        <select id="teleapoEmployeeSortSelect" class="bg-white border border-slate-300 rounded-md px-3 py-1.5 text-xs">
          <option value="connectRate-desc">é€šé›»ç‡ï¼ˆé«˜ã„é †ï¼‰</option>
          <option value="setRate-desc">è¨­å®šç‡ï¼ˆé«˜ã„é †ï¼‰</option>
          <option value="showRate-desc">ç€åº§ç‡ï¼ˆé«˜ã„é †ï¼‰</option>
        </select>
      </div>

      <div id="teleapoEmployeeTableWrapper" class="overflow-auto rounded-lg border border-slate-200 mb-4">
        <table class="table-grid min-w-[800px]">
          <thead>
            <tr>
              <th class="whitespace-nowrap">ç¤¾å“¡å</th>
              <th class="whitespace-nowrap">æ¶é›»æ•°</th>
              <th class="whitespace-nowrap">é€šé›»æ•°</th>
              <th class="whitespace-nowrap">è¨­å®šæ•°</th>
              <th class="whitespace-nowrap">ç€åº§æ•°</th>
              <th class="whitespace-nowrap">é€šé›»ç‡</th>
              <th class="whitespace-nowrap">è¨­å®šç‡</th>
              <th class="whitespace-nowrap">ç€åº§ç‡</th>
            </tr>
          </thead>
          <tbody id="teleapoEmployeeTableBody">
            <!-- JSã§ç”Ÿæˆ -->
          </tbody>
        </table>
      </div>

      <!-- ç¤¾å“¡ã”ã¨ã®æ™‚ç³»åˆ—ã‚°ãƒ©ãƒ• -->
      <div id="teleapoEmployeeChartWrapper" class="hidden border border-slate-200 rounded-lg p-4 bg-white">
        <h5 class="text-sm font-semibold text-slate-800 mb-2" id="teleapoEmployeeChartTitle">
          ç¤¾å“¡åˆ¥ æ™‚ç³»åˆ—KPI
        </h5>
        <div class="w-full overflow-x-auto">
          <svg id="teleapoEmployeeTrendChart" viewBox="0 0 800 260" class="w-full h-auto">
            <!-- JSã§æç”» -->
          </svg>
        </div>
        <p class="mt-1 text-[11px] text-slate-500">
          â€» ç¾åœ¨ã¯ãƒ¢ãƒƒã‚¯ã®æ™‚ç³»åˆ—ã§ã™ã€‚æœ¬ç•ªã§ã¯æ—¥åˆ¥ãƒ»é€±åˆ¥ã®å®Ÿãƒ‡ãƒ¼ã‚¿ã«å·®ã—æ›¿ãˆäºˆå®šã€‚
        </p>
      </div>
      <div id="teleapoEmployeeAnalysisWrapper" class="mt-4 border border-slate-200 rounded-lg p-3 bg-white">
        <div class="flex items-center justify-between mb-2">
          <h5 class="text-sm font-semibold text-slate-800">AIåˆ†æã‚³ãƒ¡ãƒ³ãƒˆ</h5>
          <span id="teleapoEmployeeAnalysisStatus" class="text-[11px] text-slate-400"></span>
        </div>
        <p id="teleapoEmployeeAnalysisText" class="text-sm text-slate-800 leading-relaxed">
          ç¤¾å“¡ã‚’é¸æŠã™ã‚‹ã¨ã€ã“ã®æœŸé–“ã®KPIã‚„ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã‚’ã‚‚ã¨ã«AIãŒã‚³ãƒ¡ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
        </p>
      </div>

    </div>

    <!-- æ™‚é–“å¸¯Ã—æ›œæ—¥ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ— -->
    <div class="kpi-v2-subsection">
      <h4 class="kpi-v2-subtitle">æ™‚é–“å¸¯ Ã— æ›œæ—¥ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—</h4>
      <div class="kpi-v2-filters grid grid-cols-1 md:grid-cols-3 gap-4 mb-3">
        <!-- â˜… ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã®å¯¾è±¡æœŸé–“ã‚’è¡¨ç¤º -->
        <p id="teleapoHeatmapPeriodLabel" class="text-xs text-slate-500 mb-2">
          <!-- JSã§åŸ‹ã‚ã‚‹ -->
        </p>
        <div class="kpi-v2-filter-group">
          <span class="kpi-v2-filter-label">æ‹…å½“è€…</span>
          <select id="teleapoHeatmapEmployeeFilter" class="kpi-v2-filter-select">
            <option value="all">å…¨ä½“</option>
            <option value="ä½è—¤">ä½è—¤</option>
            <option value="ç”°ä¸­">ç”°ä¸­</option>
            <option value="å±±æœ¬">å±±æœ¬</option>
            <option value="éˆ´æœ¨">éˆ´æœ¨</option>
          </select>
        </div>
        <div class="kpi-v2-filter-group">
          <span class="kpi-v2-filter-label">æŒ‡æ¨™</span>
          <select id="teleapoHeatmapMetricFilter" class="kpi-v2-filter-select">
            <option value="connectRate">é€šé›»ç‡</option>
            <option value="setRate">è¨­å®šç‡</option>
          </select>

        </div>


      </div>

      <!-- ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—æœ¬ä½“ -->
      <div class="overflow-auto rounded-lg border border-slate-200 bg-white teleapo-heatmap-wrapper">
        <table class="min-w-[640px] border-collapse text-sm text-slate-700" id="teleapoHeatmapTable">
          <thead class="bg-slate-50">
            <tr>
              <th class="px-3 py-2 border border-slate-200 text-left">æ™‚é–“å¸¯ï¼¼æ›œæ—¥</th>
              <th class="px-3 py-2 border border-slate-200 text-center">æœˆ</th>
              <th class="px-3 py-2 border border-slate-200 text-center">ç«</th>
              <th class="px-3 py-2 border border-slate-200 text-center">æ°´</th>
              <th class="px-3 py-2 border border-slate-200 text-center">æœ¨</th>
              <th class="px-3 py-2 border border-slate-200 text-center">é‡‘</th>
            </tr>
          </thead>
          <tbody id="teleapoHeatmapTableBody">
            <!-- JSã§ç”Ÿæˆ -->
          </tbody>
        </table>
      </div>

      <p id="teleapoHeatmapSelectionLabel" class="mt-2 text-[11px] text-slate-500"></p>
    </div>
  </div>
  <script>
    (function () {
      console.log("ğŸ“Š inline heatmap script running");

      const DAYS = ['æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘'];
      const SLOTS = ['09-11', '11-13', '13-15', '15-17', '17-19'];

      // æŒ‡æ¨™ã”ã¨ã®ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆã€Œallã€ã ã‘ï¼‰
      const HEATMAP_DATA = {
        dials: { // æ¶é›»æ•°ï¼ˆå¤§ãã‚ï¼‰
          'æœˆ': { '09-11': 10, '11-13': 16, '13-15': 14, '15-17': 9, '17-19': 5 },
          'ç«': { '09-11': 8, '11-13': 14, '13-15': 13, '15-17': 11, '17-19': 4 },
          'æ°´': { '09-11': 7, '11-13': 12, '13-15': 15, '15-17': 12, '17-19': 6 },
          'æœ¨': { '09-11': 12, '11-13': 18, '13-15': 17, '15-17': 13, '17-19': 6 },
          'é‡‘': { '09-11': 6, '11-13': 9, '13-15': 11, '15-17': 12, '17-19': 3 }
        },
        connects: { // é€šé›»æ•°ï¼ˆæ¶é›»æ•°ã‚ˆã‚Šå°‘ã—ä½ã„ï¼‰
          'æœˆ': { '09-11': 6, '11-13': 11, '13-15': 9, '15-17': 6, '17-19': 3 },
          'ç«': { '09-11': 4, '11-13': 9, '13-15': 8, '15-17': 7, '17-19': 2 },
          'æ°´': { '09-11': 4, '11-13': 8, '13-15': 10, '15-17': 8, '17-19': 4 },
          'æœ¨': { '09-11': 7, '11-13': 12, '13-15': 11, '15-17': 9, '17-19': 4 },
          'é‡‘': { '09-11': 3, '11-13': 6, '13-15': 7, '15-17': 8, '17-19': 2 }
        },
        sets: { // è¨­å®šæ•°ï¼ˆã‹ãªã‚Šæ¸›ã‚‹ï¼‰
          'æœˆ': { '09-11': 3, '11-13': 5, '13-15': 4, '15-17': 3, '17-19': 1 },
          'ç«': { '09-11': 2, '11-13': 4, '13-15': 3, '15-17': 3, '17-19': 1 },
          'æ°´': { '09-11': 2, '11-13': 3, '13-15': 4, '15-17': 3, '17-19': 2 },
          'æœ¨': { '09-11': 3, '11-13': 6, '13-15': 5, '15-17': 4, '17-19': 2 },
          'é‡‘': { '09-11': 1, '11-13': 3, '13-15': 3, '15-17': 3, '17-19': 1 }
        },
        shows: { // ç€åº§æ•°ï¼ˆã•ã‚‰ã«æ¸›ã‚‹ï¼‰
          'æœˆ': { '09-11': 2, '11-13': 4, '13-15': 3, '15-17': 2, '17-19': 1 },
          'ç«': { '09-11': 1, '11-13': 3, '13-15': 2, '15-17': 2, '17-19': 1 },
          'æ°´': { '09-11': 1, '11-13': 2, '13-15': 3, '15-17': 2, '17-19': 1 },
          'æœ¨': { '09-11': 2, '11-13': 4, '13-15': 4, '15-17': 3, '17-19': 1 },
          'é‡‘': { '09-11': 1, '11-13': 2, '13-15': 2, '15-17': 2, '17-19': 0 }
        }
      };

      const metricSelect = document.getElementById('teleapoHeatmapMetricFilter');
      const empSelect = document.getElementById('teleapoHeatmapEmployeeFilter');
      const tbody = document.getElementById('teleapoHeatmapTableBody');

      if (!tbody || !metricSelect || !empSelect) {
        console.warn("heatmap controls not found");
        return;
      }

      function renderHeatmap() {
        const metricKey = metricSelect.value || 'dials'; // dials / connects / sets / shows
        const data = HEATMAP_DATA[metricKey] || HEATMAP_DATA.dials;

        console.log("renderHeatmap metric =", metricKey);

        // æœ€å¤§å€¤ï¼ˆè‰²ã®ã‚¹ã‚±ãƒ¼ãƒ«ç”¨ï¼‰
        let maxValue = 0;
        DAYS.forEach(day => {
          SLOTS.forEach(slot => {
            const v = data?.[day]?.[slot] ?? 0;
            if (v > maxValue) maxValue = v;
          });
        });
        if (maxValue === 0) maxValue = 1;

        tbody.innerHTML = '';

        SLOTS.forEach(slot => {
          const tr = document.createElement('tr');

          const th = document.createElement('th');
          th.textContent = `${slot}æ™‚`;
          th.className = 'px-3 py-2 border border-slate-200 text-left bg-slate-50';
          tr.appendChild(th);

          DAYS.forEach(day => {
            const td = document.createElement('td');
            td.className = 'px-1 py-1 border border-slate-200 text-center';

            const value = data?.[day]?.[slot] ?? 0;
            const intensity = value / maxValue;

            const cell = document.createElement('div');
            cell.className = 'kpi-v2-heatmap-cell';
            cell.textContent = value === 0 ? '-' : String(value);

            const alpha = 0.2 + 0.5 * intensity;
            cell.style.backgroundColor = `rgba(59, 130, 246, ${alpha.toFixed(2)})`;

            td.appendChild(cell);
            tr.appendChild(td);
          });

          tbody.appendChild(tr);
        });
      }

      // åˆæœŸæç”»
      renderHeatmap();

      // æŒ‡æ¨™å¤‰æ›´æ™‚ã«å†æç”»
      metricSelect.addEventListener('change', renderHeatmap);
      // æ‹…å½“è€…ã‚»ãƒ¬ã‚¯ãƒˆã¯ç¾çŠ¶ all ã¨åŒã˜æŒ™å‹•ã«ã—ã¦ãŠãï¼ˆã‚ã¨ã§ç¤¾å“¡åˆ¥ã«ã—ãŸã‘ã‚Œã°ã“ã“ã§åˆ†å²ï¼‰
      empSelect.addEventListener('change', renderHeatmap);
    })();
  </script>


  <!-- æ¶é›»ãƒ­ã‚° -->
  <div class="section-shell space-y-4">
    <div class="flex items-center justify-between">
      <h3 class="text-lg font-semibold text-slate-800 whitespace-nowrap">æ¶é›»ãƒ­ã‚°</h3>
      <div class="flex items-center gap-2">
        <input type="date" id="teleapoLogRangeStart"
          class="bg-white border border-slate-300 rounded-md px-3 py-2 text-sm" />
        <span class="text-slate-500">ã€œ</span>
        <input type="date" id="teleapoLogRangeEnd"
          class="bg-white border border-slate-300 rounded-md px-3 py-2 text-sm" />
      </div>
    </div>

    <!-- ãƒ•ã‚£ãƒ«ã‚¿ã¨æ¤œç´¢ -->
    <div class="border border-slate-200 rounded-lg p-4 bg-slate-50 space-y-3">
      <h4 class="text-sm font-semibold text-slate-700">çµã‚Šè¾¼ã¿æ¡ä»¶</h4>
      <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 text-xs text-slate-500">
        <div class="flex flex-col gap-1">
          <label class="text-xs font-semibold text-slate-500">æ‹…å½“è€…</label>
          <select id="teleapoLogEmployeeFilter" class="bg-white border border-slate-300 rounded-md px-3 py-2 text-sm">
            <option value="">å…¨å“¡</option>
            <option value="ä½è—¤">ä½è—¤</option>
            <option value="ç”°ä¸­">ç”°ä¸­</option>
            <option value="å±±æœ¬">å±±æœ¬</option>
            <option value="éˆ´æœ¨">éˆ´æœ¨</option>
          </select>
        </div>
        <div class="flex flex-col gap-1">
          <label class="text-xs font-semibold text-slate-500">ã‚¢ãƒçµæœ</label>
          <select id="teleapoLogResultFilter" class="bg-white border border-slate-300 rounded-md px-3 py-2 text-sm">
            <option value="">å…¨ã¦</option>
            <option value="é€šé›»">é€šé›»</option>
            <option value="ä¸åœ¨">ä¸åœ¨</option>
            <option value="è¨­å®š">è¨­å®š</option>
            <option value="ç€åº§">ç€åº§</option>
            <option value="ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯">ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯</option>
          </select>
        </div>
        <div class="flex flex-col gap-1">
          <label class="text-xs font-semibold text-slate-500">ç›¸æ‰‹åæ¤œç´¢</label>
          <input type="text" id="teleapoLogTargetSearch"
            class="bg-white border border-slate-300 rounded-md px-3 py-2 text-sm" placeholder="ç›¸æ‰‹åã§æ¤œç´¢..." />
        </div>
        <div class="flex items-end gap-2">
          <button id="teleapoLogFilterReset"
            class="px-3 py-2 border border-slate-300 rounded-md text-sm hover:bg-slate-100 whitespace-nowrap">
            æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢
          </button>
          <div id="teleapoLogFilterCount" class="px-2 py-1 bg-indigo-100 text-indigo-700 rounded text-xs font-semibold">
            0ä»¶
          </div>
        </div>
      </div>
    </div>

    <!-- ãƒ­ã‚°ãƒ†ãƒ¼ãƒ–ãƒ« -->
    <div class="overflow-auto rounded-lg border border-slate-200">
      <table class="table-grid min-w-[1200px]" id="teleapoLogTable">
        <thead>
          <tr>
            <th class="cursor-pointer hover:bg-slate-100 sortable" data-sort="datetime">
              æ—¥æ™‚
              <span class="ml-1 text-xs text-slate-400">â–¼</span>
            </th>
            <th class="cursor-pointer hover:bg-slate-100 sortable" data-sort="employee">æ‹…å½“è€…</th>
            <th class="cursor-pointer hover:bg-slate-100 sortable" data-sort="target">ç›¸æ‰‹</th>
            <th>é›»è©±ç•ªå·</th>
            <th>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</th>
            <th class="cursor-pointer hover:bg-slate-100 sortable" data-sort="result">ã‚¢ãƒçµæœ</th>
            <th>ãƒ¡ãƒ¢</th>
          </tr>
        </thead>
        <tbody id="teleapoLogTableBody">
          <tr>
            <td class="whitespace-nowrap">2025/11/18 10:30</td>
            <td>ä½è—¤</td>
            <td>ABCç¤¾ ç”°ä¸­æ§˜</td>
            <td>03-1234-5678</td>
            <td>tanaka@abc-corp.co.jp</td>
            <td>
              <span class="px-2 py-1 bg-emerald-100 text-emerald-700 rounded text-xs font-semibold">è¨­å®š</span>
            </td>
            <td>ä¸€æ¬¡é¢è«‡â†’11/25 15:00è¨­å®š</td>
          </tr>
          <tr>
            <td class="whitespace-nowrap">2025/11/18 11:45</td>
            <td>ç”°ä¸­</td>
            <td>XYZç¤¾ éˆ´æœ¨æ§˜</td>
            <td>03-9876-5432</td>
            <td>suzuki@xyz-inc.co.jp</td>
            <td>
              <span class="px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-semibold">é€šé›»</span>
            </td>
            <td>ä¸€æ¬¡æ—¥ç¨‹æ‰“è¨ºä¸­</td>
          </tr>
          <tr>
            <td class="whitespace-nowrap">2025/11/18 13:20</td>
            <td>å±±æœ¬</td>
            <td>DEFç¤¾ ä½ã€…æœ¨æ§˜</td>
            <td>03-5555-1111</td>
            <td>sasaki@def-ltd.co.jp</td>
            <td>
              <span class="px-2 py-1 bg-slate-100 text-slate-600 rounded text-xs font-semibold">ä¸åœ¨</span>
            </td>
            <td>å†æ¶é›»äºˆå®š 11/19</td>
          </tr>
          <tr>
            <td class="whitespace-nowrap">2025/11/18 14:15</td>
            <td>éˆ´æœ¨</td>
            <td>GHIæ ªå¼ä¼šç¤¾ é«˜æ©‹æ§˜</td>
            <td>03-2222-9999</td>
            <td>takahashi@ghi-group.com</td>
            <td>
              <span class="px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-semibold">ç€åº§</span>
            </td>
            <td>é¢è«‡å®Œäº†ã€æ¬¡å›ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—äºˆå®š</td>
          </tr>
          <tr>
            <td class="whitespace-nowrap">2025/11/18 15:30</td>
            <td>ä½è—¤</td>
            <td>JKLå•†äº‹ å±±ç”°æ§˜</td>
            <td>03-7777-3333</td>
            <td>yamada@jkl-trading.jp</td>
            <td>
              <span class="px-2 py-1 bg-amber-100 text-amber-700 rounded text-xs font-semibold">ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯</span>
            </td>
            <td>16:00ã«æŠ˜ã‚Šè¿”ã—äºˆå®š</td>
          </tr>
        </tbody>

      </table>
    </div>
    <!-- â˜… ã“ã“ã‹ã‚‰è¿½åŠ  -->
    <script>
      (function () {
        console.log("ğŸ“ inline log script running");

        const tbody = document.getElementById("teleapoLogTableBody");
        if (!tbody) {
          console.warn("teleapoLogTableBody ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
          return;
        }

        // ã¨ã‚Šã‚ãˆãšã€Œä»Šæ—¥ã€ã®æ—¥ä»˜ã§ 5 è¡Œåˆ†ã®ãƒ¢ãƒƒã‚¯ãƒ­ã‚°ã‚’å…¥ã‚Œã‚‹
        const today = new Date();
        const y = today.getFullYear();
        const m = String(today.getMonth() + 1).padStart(2, "0");
        const d = String(today.getDate()).padStart(2, "0");
        const dateStr = `${y}/${m}/${d}`;

        const employees = ["ä½è—¤", "ç”°ä¸­", "å±±æœ¬", "éˆ´æœ¨"];
        const results = [
          { label: "è¨­å®š", className: "bg-emerald-100 text-emerald-700" },
          { label: "é€šé›»", className: "bg-blue-100 text-blue-700" },
          { label: "ä¸åœ¨", className: "bg-slate-100 text-slate-600" },
          { label: "ç€åº§", className: "bg-green-100 text-green-700" },
          { label: "ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯", className: "bg-amber-100 text-amber-700" },
        ];

        const rows = [];
        for (let i = 0; i < 5; i++) {
          const hour = 10 + i * 2;
          const hh = String(hour).padStart(2, "0");
          const timeStr = `${hh}:30`;

          const emp = employees[i % employees.length];
          const res = results[i % results.length];

          rows.push({
            datetime: `${dateStr} ${timeStr}`,
            employee: emp,
            target: `ãƒ¢ãƒƒã‚¯ä¼æ¥­${i + 1} ${emp}æ§˜`,
            tel: "03-0000-0000",
            email: `sample${i + 1}@example.com`,
            resultLabel: res.label,
            resultClass: res.className,
            memo: "ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚ã¨ã§å®Ÿãƒ‡ãƒ¼ã‚¿ã«å·®ã—æ›¿ãˆï¼‰",
          });
        }

        tbody.innerHTML = rows
          .map(
            (row) => `
          <tr>
            <td class="whitespace-nowrap">${row.datetime}</td>
            <td>${row.employee}</td>
            <td>${row.target}</td>
            <td>${row.tel}</td>
            <td>${row.email}</td>
            <td>
              <span class="px-2 py-1 ${row.resultClass} rounded text-xs font-semibold">
                ${row.resultLabel}
              </span>
            </td>
            <td>${row.memo}</td>
          </tr>
        `
          )
          .join("");

        // ä»¶æ•°è¡¨ç¤ºã‚‚æ›´æ–°
        const countEl = document.getElementById("teleapoLogFilterCount");
        if (countEl) {
          countEl.textContent = `${rows.length}ä»¶`;
        }
      })();
    </script>
    <!-- â˜… ã“ã“ã¾ã§è¿½åŠ  -->

    <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-2 text-sm text-slate-500">
        <button
          class="px-3 py-2 border border-slate-300 rounded-md text-sm hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"
          id="teleapoLogPrevBtn" disabled>
          å‰ã®ãƒšãƒ¼ã‚¸
        </button>
        <span class="px-3 py-2 text-sm" id="teleapoLogPageInfo">1 / 1</span>
        <button
          class="px-3 py-2 border border-slate-300 rounded-md text-sm hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"
          id="teleapoLogNextBtn" disabled>
          æ¬¡ã®ãƒšãƒ¼ã‚¸
        </button>
      </div>
      <div class="flex items-center gap-2 text-sm">
        <label class="text-xs text-slate-500">è¡¨ç¤ºä»¶æ•°</label>
        <select class="bg-white border border-slate-300 rounded-md px-3 py-2 text-sm" id="teleapoLogPageSize">
          <option value="25">25ä»¶</option>
          <option value="50" selected>50ä»¶</option>
          <option value="100">100ä»¶</option>
        </select>
      </div>
    </div>
  </div>
  <script type="module" src="./teleapo.js"></script>
