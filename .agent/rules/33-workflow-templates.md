---
trigger: manual
description: 新しいワークフローを作成する際のテンプレート集。@workflow-templates で呼び出し可能。
slug: workflow-templates
---
# ワークフローテンプレート集 (Workflow Templates)

新しいワークフローを作成する際のテンプレート。コピーして使用すること。

---

## Template 1: 基本構造

```markdown
---
description: <このワークフローの目的を1-2文で説明>
---
# <ワークフロー名>

## Step 1: <準備/分析>
<前提条件の確認や情報収集>

## Step 2: <計画/設計>
<方針の策定、ユーザーへの確認>

## Step 3: <実行>
<主要なアクションの実行>

## Step 4: <検証> // turbo
<結果の確認、テスト実行>

## Step 5: <完了報告>
<結果のサマリーをユーザーに提示>
```

---

## Template 2: コード生成系

```markdown
---
description: 指定された仕様に基づいて<対象>を自動生成する。
---
# <対象>生成

## Step 1: 仕様の確認
ユーザーから以下を確認せよ：
- 生成対象の名前
- 必要な機能/フィールド
- 依存関係

## Step 2: 既存コードの分析 // turbo
関連する既存コードを分析し、パターンを把握せよ。

## Step 3: 設計の提示
生成するコードの設計案をユーザーに提示せよ：
- ファイル構造
- 主要な関数/クラス
- 型定義

## Step 4: コード生成
承認された設計に基づいてコードを生成せよ。

## Step 5: テスト生成
生成したコードに対するテストを作成せよ。

## Step 6: 検証 // turbo
テストを実行し、生成したコードが正しく動作することを確認せよ。
```

---

## Template 3: 修正/更新系

```markdown
---
description: <対象>を分析し、問題を特定して修正する。
---
# <対象>の修正

## Step 1: 問題の特定
以下を確認せよ：
- エラーメッセージ/症状
- 再現手順
- 発生条件

## Step 2: 原因調査 // turbo
関連するコードを分析し、根本原因を特定せよ。

## Step 3: 影響範囲の確認
修正が影響を与える可能性のある箇所を洗い出せ。

## Step 4: 修正案の提示
修正方針をユーザーに提示し、承認を得よ。

## Step 5: 修正の実施
承認された方針に基づいて修正を実施せよ。

## Step 6: リグレッションテスト // turbo
すべてのテストを実行し、リグレッションがないことを確認せよ。

## Step 7: 修正の報告
修正内容と確認結果をユーザーに報告せよ。
```

---

## Template 4: デプロイ/リリース系

```markdown
---
description: <環境>へのデプロイを安全に実行する。
---
# <環境>デプロイ

## Step 1: 事前チェック // turbo
以下を確認せよ：
- 未コミットの変更がないこと
- 正しいブランチにいること

## Step 2: ビルド検証 // turbo
プロダクションビルドが成功することを確認せよ。

## Step 3: テスト実行 // turbo
すべてのテストが通過することを確認せよ。

## Step 4: 環境変数の確認
必要な環境変数が設定されているか確認せよ。

## Step 5: デプロイ実行
**ユーザーの承認を得てから** デプロイを実行せよ。
（turboを付けないこと）

## Step 6: 動作確認
デプロイ後の動作確認を行え：
- ヘルスチェック
- 主要機能のスモークテスト

## Step 7: 完了報告
デプロイ結果を報告せよ。
```

---

## Template 5: 分析/レポート系

```markdown
---
description: <対象>を分析し、レポートを生成する。
---
# <対象>分析

## Step 1: データ収集 // turbo
分析に必要なデータを収集せよ。

## Step 2: 分析実行
収集したデータを分析せよ：
- <分析観点1>
- <分析観点2>
- <分析観点3>

## Step 3: 結果の整理
分析結果を以下の形式で整理せよ：

### サマリー
- 主要な発見事項

### 詳細
- 各観点の詳細な結果

### 推奨アクション
- 結果に基づく推奨事項

## Step 4: レポート生成
整理した結果をMarkdownレポートとして出力せよ。

## Step 5: 報告
レポートをユーザーに提示せよ。
```

---

## Template 6: 再帰的ワークフロー（他ワークフローを呼び出す）

```markdown
---
description: 複数のワークフローを順次実行し、総合的な処理を行う。
---
# 総合チェック

## Step 1: コード品質チェック
以下のワークフローを実行せよ：
- コマンド: `/lint-check`

## Step 2: テスト実行
以下のワークフローを実行せよ：
- コマンド: `/run-tests`

## Step 3: セキュリティチェック
以下のワークフローを実行せよ：
- コマンド: `/security-scan`

## Step 4: 結果の集約
各ワークフローの結果を集約し、総合レポートを作成せよ。

## Step 5: 報告
総合結果をユーザーに報告せよ：
- [ ] Lint: <結果>
- [ ] テスト: <結果>
- [ ] セキュリティ: <結果>
```

---

## Template 7: ブラウザ操作を含むワークフロー

```markdown
---
description: ブラウザを使用してUIの動作を検証する。
---
# UI検証

## Step 1: 開発サーバー起動 // turbo
開発サーバーを起動せよ：
\`\`\`bash
pnpm dev
\`\`\`

## Step 2: ブラウザでアクセス
ブラウザサブエージェントを使用して以下にアクセスせよ：
- URL: http://localhost:3000

## Step 3: 操作の実行
以下の操作を実行せよ：
1. <要素> をクリック
2. <フォーム> に <値> を入力
3. <ボタン> をクリック

## Step 4: 検証
以下を確認せよ：
- 期待される画面が表示されているか
- エラーメッセージが出ていないか
- コンソールエラーがないか

スクリーンショットを撮影して記録せよ。

## Step 5: 結果報告
検証結果をユーザーに報告せよ。
```
