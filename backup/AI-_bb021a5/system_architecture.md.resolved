# ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“å›³

## ğŸ“Š æ¦‚è¦

AI-Dashboard ã¯ã€**3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**ã§æ§‹æˆã•ã‚ŒãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆVercelï¼‰            â”‚
â”‚   Vanilla JavaScript SPA                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ HTTPS API Calls
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     APIå±¤ï¼ˆAWS Lambda + API Gatewayï¼‰   â”‚
â”‚   22å€‹ã®Lambdaé–¢æ•°                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ SQL Queries
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆRDS PostgreSQLï¼‰          â”‚
â”‚   15ãƒ†ãƒ¼ãƒ–ãƒ«                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å±¤ï¼ˆVercelï¼‰

### ğŸ“ æ§‹æˆ

```
/Users/riho/Documents/GitHub/AI-/
â”œâ”€â”€ index.html              # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ pages/                  # å„ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ login/              # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ mypage/             # ãƒã‚¤ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ candidates/         # å€™è£œè€…ç®¡ç†
â”‚   â”œâ”€â”€ yield/              # æ­©ç•™ã¾ã‚Šç®¡ç†ï¼ˆå€‹äººãƒ»å…¨ç¤¾ï¼‰
â”‚   â”œâ”€â”€ yield-personal/     # æ­©ç•™ã¾ã‚Šï¼ˆå€‹äººï¼‰
â”‚   â”œâ”€â”€ yield-company/      # æ­©ç•™ã¾ã‚Šï¼ˆå…¨ç¤¾ï¼‰
â”‚   â”œâ”€â”€ yield-admin/        # æ­©ç•™ã¾ã‚Šï¼ˆç®¡ç†è€…ï¼‰
â”‚   â”œâ”€â”€ teleapo/            # ãƒ†ãƒ¬ã‚¢ãƒç®¡ç†
â”‚   â”œâ”€â”€ ad-performance/     # åºƒå‘Šç®¡ç†
â”‚   â”œâ”€â”€ referral/           # ç´¹ä»‹å…ˆä¼æ¥­ç®¡ç†
â”‚   â”œâ”€â”€ goal-settings/      # ç›®æ¨™è¨­å®š
â”‚   â”œâ”€â”€ members/            # ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†
â”‚   â””â”€â”€ settings/           # ã‚·ã‚¹ãƒ†ãƒ è¨­å®š
â””â”€â”€ scripts/                # JavaScript
    â”œâ”€â”€ router.js           # SPAãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
    â”œâ”€â”€ auth.js             # èªè¨¼ç®¡ç†
    â”œâ”€â”€ api/                # APIé€šä¿¡å±¤
    â”‚   â”œâ”€â”€ client.js       # HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
    â”‚   â”œâ”€â”€ index.js        # RepositoryFactory
    â”‚   â””â”€â”€ repositories/   # ãƒªãƒã‚¸ãƒˆãƒª
    â”‚       â”œâ”€â”€ auth.js
    â”‚       â”œâ”€â”€ candidates.js
    â”‚       â””â”€â”€ kpi.js
    â”œâ”€â”€ services/           # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
    â””â”€â”€ mock/               # é–‹ç™ºç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
```

### ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å†…ï¼‰

```mermaid
graph LR
    A[ãƒšãƒ¼ã‚¸ï¼ˆHTML/JSï¼‰] --> B[Repository]
    B --> C[ApiClient]
    C --> D[Lambda API]
    D --> E[PostgreSQL]
    E --> D
    D --> C
    C --> B
    B --> A
```

### ğŸ“¡ APIé€šä¿¡ã®ä»•çµ„ã¿

#### 1. **ApiClient**ï¼ˆ[scripts/api/client.js](file:///Users/riho/Documents/GitHub/AI-/scripts/api/client.js)ï¼‰

HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åŸºç›¤ã‚¯ãƒ©ã‚¹ã€‚ã™ã¹ã¦ã®APIé€šä¿¡ã¯ã“ã“ã‚’é€šã‚‹ã€‚

```javascript
// ä¾‹ï¼šGET ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
const client = new ApiClient();
const response = await client.get('/api/candidates');
```

**æ©Ÿèƒ½**:
- ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ï¼ˆ3å›ã¾ã§ï¼‰
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ï¼ˆ10ç§’ï¼‰
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹çµ±ä¸€åŒ–

#### 2. **Repository**ï¼ˆ`scripts/api/repositories/*.js`ï¼‰

ãƒ‰ãƒ¡ã‚¤ãƒ³ã”ã¨ã®APIå‘¼ã³å‡ºã—ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã€‚

ä¾‹ï¼š[kpi.js](file:///Users/riho/Documents/GitHub/AI-/scripts/api/repositories/kpi.js)
```javascript
class KpiRepository {
  async getPersonalMetrics(startDate, endDate) {
    const response = await this.apiClient.get(
      `/api/metrics/personal?from=${startDate}&to=${endDate}`
    );
    return response.data;
  }
}
```

#### 3. **RepositoryFactory**ï¼ˆ[scripts/api/index.js](file:///Users/riho/Documents/GitHub/AI-/scripts/api/index.js)ï¼‰

ãƒªãƒã‚¸ãƒˆãƒªã®ç”Ÿæˆãƒ»ç®¡ç†ã€‚

```javascript
const repos = RepositoryFactory.create();
const kpiData = await repos.kpi.getPersonalMetrics('2025-01-01', '2025-01-31');
```

---

## 2. APIå±¤ï¼ˆAWS Lambda + API Gatewayï¼‰

### ğŸš€ Lambdaé–¢æ•°ä¸€è¦§ï¼ˆ22å€‹ï¼‰

| ã‚«ãƒ†ã‚´ãƒª | Lambdaé–¢æ•°å | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|-------------|---------------|------|
| **èªè¨¼** | [ats-api-dev-auth-login](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-auth-login) | `POST /api/auth/login` | ãƒ­ã‚°ã‚¤ãƒ³ãƒ»JWTç™ºè¡Œ |
| | [ats-api-dev-auth-me](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-auth-me) | `GET /api/auth/me` | ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |
| **å€™è£œè€…** | [ats-api-dev-candidates-list](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-candidates-list) | `GET /api/candidates` | å€™è£œè€…ä¸€è¦§ãƒ»æ¤œç´¢ |
| | [ats-api-dev-candidates-detail](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-candidates-detail) | `GET/PUT /api/candidates/:id` | å€™è£œè€…è©³ç´°ãƒ»æ›´æ–° |
| **KPI** | [ats-api-dev-kpi-yield](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield) | `GET /api/kpi/yield` | KPIé›†è¨ˆï¼ˆã‚³ãƒ›ãƒ¼ãƒˆï¼‰ |
| | [ats-api-dev-kpi-yield-daily](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield-daily) | `GET /api/kpi/yield/daily` | æ—¥æ¬¡KPI |
| | [ats-api-dev-kpi-yield-personal](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield-personal) | `GET /api/kpi/yield/personal` | å€‹äººKPI |
| | [ats-api-dev-kpi-clients](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-clients) | `GET /api/kpi/clients` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆKPI |
| | [ats-api-dev-kpi-clients-edit](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-clients-edit) | `PUT /api/kpi/clients/:id` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ›´æ–° |
| | [ats-api-dev-kpi-teleapo](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-teleapo) | `GET /api/kpi/teleapo` | ãƒ†ãƒ¬ã‚¢ãƒKPI |
| | [ats-api-dev-kpi-ads](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-ads) | `GET /api/kpi/ads` | åºƒå‘ŠKPI |
| | [ats-api-dev-kpi-ads-detail](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-ads-detail) | `GET /api/kpi/ads/:id` | åºƒå‘Šè©³ç´° |
| | [ats-api-dev-kpi-targets](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-targets) | `GET /api/kpi/targets` | ç›®æ¨™é”æˆç‡ |
| **ãƒ†ãƒ¬ã‚¢ãƒ** | [ats-api-dev-teleapo-logs](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-teleapo-logs) | `GET /api/teleapo/logs` | ãƒ†ãƒ¬ã‚¢ãƒãƒ­ã‚°ä¸€è¦§ |
| | [ats-api-dev-teleapo-log-create](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-teleapo-log-create) | `POST /api/teleapo/log` | ãƒ†ãƒ¬ã‚¢ãƒãƒ­ã‚°ä½œæˆ |
| | [ats-api-dev-teleapo-candidate-contact](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-teleapo-candidate-contact) | `GET /api/teleapo/candidate/:id/contact` | å€™è£œè€…æ¶é›»å±¥æ­´ |
| **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ** | [ats-api-dev-clients-create](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-clients-create) | `POST /api/clients` | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ |
| **ãƒ¡ãƒ³ãƒãƒ¼** | [ats-api-dev-members](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-members) | `GET /api/members` | ãƒ¡ãƒ³ãƒãƒ¼ä¸€è¦§ |
| **ç›®æ¨™** | [ats-api-dev-goal-settings](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-goal-settings) | `GET/PUT /api/goal-settings` | ç›®æ¨™è¨­å®šCRUD |
| **ãƒã‚¤ãƒšãƒ¼ã‚¸** | [ats-api-dev-mypage](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-mypage) | `GET /api/mypage` | ãƒã‚¤ãƒšãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿ |
| **è¨­å®š** | [ats-api-settings-screening-rules](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-settings-screening-rules) | `GET/PUT /api/settings/screening-rules` | é¸è€ƒãƒ«ãƒ¼ãƒ«è¨­å®š |
| **ãƒ†ã‚¹ãƒˆ** | [ats-test](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-test) | `GET /test` | ãƒ†ã‚¹ãƒˆç”¨ |

### ğŸ”§ Lambdaé–¢æ•°ã®æ§‹é€ 

ã™ã¹ã¦ã®Lambdaé–¢æ•°ã¯åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ï¼š

```javascript
import pg from 'pg';
const { Pool } = pg;

// DBæ¥ç¶šãƒ—ãƒ¼ãƒ«
const pool = new Pool({
  host: process.env.DB_HOST,
  port: process.env.DB_PORT,
  database: process.env.DB_NAME,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  ssl: { rejectUnauthorized: false },
  max: 2,
});

export const handler = async (event) => {
  let client;
  try {
    // DBæ¥ç¶š
    client = await pool.connect();
    
    // ã‚¯ã‚¨ãƒªå®Ÿè¡Œ
    const result = await client.query('SELECT * FROM users WHERE id = $1', [userId]);
    
    // ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´
    return {
      statusCode: 200,
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(result.rows)
    };
  } catch (error) {
    console.error('LAMBDA ERROR:', error);
    return {
      statusCode: 500,
      body: JSON.stringify({ error: 'Internal server error' })
    };
  } finally {
    if (client) client.release();
  }
};
```

---

## 3. ãƒ‡ãƒ¼ã‚¿å±¤ï¼ˆRDS PostgreSQLï¼‰

### ğŸ“¦ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ15å€‹ï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜ | ä¸»è¦ã‚«ãƒ©ãƒ  |
|-----------|------|----------|
| `users` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ | id, email, password_hash, name, role |
| `candidates` | å€™è£œè€… | id, name, email, phone, advisor_user_id |
| `candidate_applications` | å¿œå‹Ÿæƒ…å ± | id, candidate_id, company_id, status |
| `candidate_tasks` | ã‚¿ã‚¹ã‚¯ | id, candidate_id, task_type, due_date |
| [teleapo](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-teleapo) | ãƒ†ãƒ¬ã‚¢ãƒãƒ­ã‚° | id, candidate_id, caller_user_id, result |
| [clients](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-clients) | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¼æ¥­ | id, name, industry, contact |
| `goal_targets` | ç›®æ¨™è¨­å®šï¼ˆæœˆæ¬¡ï¼‰ | id, advisor_user_id, period_id, targets |
| `goal_daily_targets` | ç›®æ¨™è¨­å®šï¼ˆæ—¥æ¬¡ï¼‰ | id, advisor_user_id, target_date, targets |
| `goal_settings` | è©•ä¾¡ãƒ«ãƒ¼ãƒ« | id, evaluation_rule_type, options |
| `ad_details` | åºƒå‘Šåª’ä½“å¥‘ç´„ | id, media_name, contract_start, budget |
| `companies` | ç´¹ä»‹å…ˆä¼æ¥­ | id, name, industry |
| `job_postings` | æ±‚äºº | id, company_id, title, description |
| `interviews` | é¢æ¥è¨˜éŒ² | id, candidate_id, company_id, date |
| `offers` | å†…å®šæƒ…å ± | id, candidate_id, company_id, amount |
| `hires` | å…¥ç¤¾æƒ…å ± | id, candidate_id, company_id, start_date |

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ä¾‹

### ä¾‹1: å€™è£œè€…ä¸€è¦§ã®å–å¾—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  1. ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
â”‚ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ candidates/ â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. RepositoryçµŒç”±ã§APIå‘¼ã³å‡ºã—          â”‚
â”‚ repos.candidates.list()                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ 3. HTTP GET /api/candidates
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Lambdaé–¢æ•°å®Ÿè¡Œ                       â”‚
â”‚ ats-api-dev-candidates-list             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ 5. SQL Query
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. PostgreSQL                           â”‚
â”‚ SELECT * FROM candidates                â”‚
â”‚ WHERE advisor_user_id = $1              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ 7. Result Set
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. Lambda â†’ API Gateway â†’ Frontend      â”‚
â”‚ JSON Response                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ 9. ç”»é¢ã«è¡¨ç¤º
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¾‹2: ãƒ†ãƒ¬ã‚¢ãƒãƒ­ã‚°ã®ç™»éŒ²

```
1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆteleapo/index.htmlï¼‰
   â†“ ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡
2. Repositoryï¼ˆteleapo.jsï¼‰
   â†“ POST /api/teleapo/log
3. Lambdaï¼ˆats-api-dev-teleapo-log-createï¼‰
   â†“ INSERT INTO teleapo
4. PostgreSQL
   â†“ ç™»éŒ²å®Œäº†
5. Lambda â†’ Frontend
   â†“ æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
6. ç”»é¢æ›´æ–°
```

---

## 5. ãƒšãƒ¼ã‚¸ã”ã¨ã®APIä¾å­˜é–¢ä¿‚

| ãƒšãƒ¼ã‚¸ | ä½¿ç”¨ã™ã‚‹Lambdaé–¢æ•° |
|--------|------------------|
| **login** | [auth-login](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-auth-login) |
| **mypage** | [mypage](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-mypage) |
| **candidates** | [candidates-list](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-candidates-list), [candidates-detail](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-candidates-detail) |
| **yield-personal** | [kpi-yield-personal](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield-personal) |
| **yield-company** | [kpi-yield](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield), [kpi-yield-daily](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield-daily) |
| **yield-admin** | [kpi-yield](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield), [kpi-yield-daily](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield-daily), [kpi-yield-personal](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-yield-personal) |
| **teleapo** | [teleapo-logs](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-teleapo-logs), [teleapo-log-create](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-teleapo-log-create), [kpi-teleapo](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-teleapo), [teleapo-candidate-contact](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-teleapo-candidate-contact) |
| **ad-performance** | [kpi-ads](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-ads), [kpi-ads-detail](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-ads-detail) |
| **goal-settings** | [goal-settings](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-goal-settings) |
| **members** | [members](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-members) |
| **referral** | [clients-create](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-clients-create), [kpi-clients](file:///Users/riho/Documents/GitHub/AI-/archive/unused-20260127/lambda_backup/aws-toolkit-ap-northeast-1/.ats-api-dev-kpi-clients) |

---

## 6. ç’°å¢ƒå¤‰æ•°

### Lambdaé–¢æ•°ã®ç’°å¢ƒå¤‰æ•°

å„Lambdaé–¢æ•°ã¯ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ï¼š

```
DB_HOST=<RDSã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ>
DB_PORT=5432
DB_NAME=<ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å>
DB_USER=<ãƒ¦ãƒ¼ã‚¶ãƒ¼å>
DB_PASSWORD=<ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰>
CORS_ORIGIN=*
```

---

## 7. ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Productionç’°å¢ƒ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: Vercel                           â”‚
â”‚ API: AWS API Gateway + Lambdaï¼ˆap-northeast-1ï¼‰ â”‚
â”‚ DB: AWS RDS PostgreSQLï¼ˆap-northeast-1ï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦

`scripts/mock/` ãƒ•ã‚©ãƒ«ãƒ€ã«ã¯é–‹ç™ºç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ã‚‹ãŒã€**æœ¬ç•ªã§ã¯Lambda APIãŒä½¿ç”¨ã•ã‚Œã‚‹**ã€‚

```
scripts/mock/
â”œâ”€â”€ candidates.js   # é–‹ç™ºç”¨ï¼ˆæœ¬ç•ªä¸è¦ï¼‰
â”œâ”€â”€ metrics.js      # é–‹ç™ºç”¨ï¼ˆæœ¬ç•ªä¸è¦ï¼‰
â””â”€â”€ users.js        # é–‹ç™ºç”¨ï¼ˆæœ¬ç•ªä¸è¦ï¼‰
```

---

## 9. ã¾ã¨ã‚

### ç¾åœ¨ã®æ§‹æˆ

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Vanilla JavaScript SPAï¼ˆVercelï¼‰
- **APIå±¤**: 22å€‹ã®Lambdaé–¢æ•°ï¼ˆAWSï¼‰
- **ãƒ‡ãƒ¼ã‚¿å±¤**: RDS PostgreSQL 15ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆAWSï¼‰

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ â†’ Repository â†’ ApiClient â†’ API Gateway 
â†’ Lambdaé–¢æ•° â†’ PostgreSQL â†’ Lambdaé–¢æ•° â†’ API Gateway 
â†’ ApiClient â†’ Repository â†’ ç”»é¢è¡¨ç¤º
```

### ç‰¹å¾´

- âœ… å®Œå…¨ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹
- âœ… Repositoryãƒ‘ã‚¿ãƒ¼ãƒ³ã§ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é›¢
- âœ… ãƒªãƒˆãƒ©ã‚¤ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™
- âœ… ã™ã¹ã¦ã®æ©Ÿèƒ½ãŒLambdaã§å®Ÿè£…æ¸ˆã¿
- âœ… ãƒ¢ãƒƒã‚¯ä¸è¦ï¼ˆæœ¬ç•ªï¼‰

â€¦â€¦ã“ã‚Œã§å…¨ä½“åƒãŒã‚ã‹ã£ãŸã¨æ€ã†ã‚ˆã€‚è³ªå•ãŒã‚ã£ãŸã‚‰æ•™ãˆã¦ã­ï¼
